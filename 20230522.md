# 5월 22일

## Grayscale

### gray.py
```python
import cv2

src = cv2.imread("../img/cat.jpeg", cv2.IMREAD_COLOR) # 이미지 데이터를 src라는 변수에 저장
dst = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY) # 이미지를 흑백으로 전환하고, dst라는 변수에 저장

cv2.imshow("src", src)
cv2.imshow("dst", dst)
cv2.waitKey()
cv2.destroyAllWindows()
```
- 'cv2.COLOR_BGR2GRAY'를 사용하여 grayscale로 이미지를 변환

> 실행 결과

![Screenshot from 2023-05-22 10-19-19](https://github.com/ajhwan/OpenCV_study/assets/129160008/3c6777de-972c-4e61-af4f-fe8d75f80739)

## 웹캠으로 사진 찍기
```python
import cv2

cap = cv2.VideoCapture(0)                       # 0번 카메라 연결
if cap.isOpened() :
    while True:
        ret, frame = cap.read()                 # 카메라 프레임 읽기
        if ret:
            cv2.imshow('camera',frame)          # 프레임 화면에 표시
            if cv2.waitKey(1) != -1:            # 아무 키나 누르면
                cv2.imwrite('photo.jpg', frame) # 프레임을 'photo.jpg'에 저장
                break
        else:
            print('no frame!')
            break
else:
    print('no camera!')
cap.release()
cv2.destroyAllWindows()
```

> 실행 결과

![photo](https://github.com/ajhwan/OpenCV_study/assets/129160008/8a3879f3-b8f0-4a8e-b8fb-202a8901688b)

## 특정 색깔 추출하기
```python
import numpy as np
import cv2

img_color = cv2.imread('../img/shapes.png') # 이미지 파일을 컬러로 불러옴
print('shape: ', img_color.shape)

height, width = img_color.shape[:2] # 이미지의 높이와 너비 불러옴, 가로 [0], 세로[1]

img_hsv = cv2.cvtColor(img_color, cv2.COLOR_BGR2HSV) # cvtColor 함수를 이용하여 hsv 색공간으로 변환

lower_red = np.array([150, 50, 50])        # 빨간색 범위
upper_red = np.array([180, 255, 255])
img_mask = cv2.inRange(img_hsv, lower_red, upper_red) # 범위내의 픽셀들은 흰색, 나머지 검은색

# 바이너리 이미지를 마스크로 사용하여 원본이미지에서 범위값에 해당하는 영상부분을 획득
img_result = cv2.bitwise_and(img_color, img_color, mask = img_mask) 

cv2.imshow('img_origin', img_color)
cv2.imshow('img_mask', img_mask)
cv2.imshow('img_color', img_result)

cv2.waitKey(0)
cv2.destroyAllWindows()
```
- 빨간색을 추출하기 때문에 빨간색의 범위를 특정함
- 'cv2.inRange'를 사용하여 범위를 지정
    - 해당 범위를 벗어나면 검은색으로 출력하도록 지정
- 'cv2.bitwise_and'를 사용하여 동일한 이미지를 겹쳐 원본 이미지가 나오게 하고 그 부분을 마스크를 씌움

> 실행 결과

![Screenshot from 2023-05-22 11-58-25](https://github.com/ajhwan/OpenCV_study/assets/129160008/a9c896aa-14a5-4d0a-91c1-da06af36075f)


