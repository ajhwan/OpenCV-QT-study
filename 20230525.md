# 5월 25일

## 복습

### 이미지 띄우기
```python
mport cv2

img_file = "../img/girl.jpg" # 표시할 이미지 경로           
img = cv2.imread(img_file)  # 이미지를 읽어서 img 변수에 할당

if img is not None:
  cv2.imshow('IMG', img)   # 읽은 이미지를 화면에 표시     
  cv2.waitKey()           # 키가 입력될 때 까지 대기   
  cv2.destroyAllWindows()  # 창 모두 닫기         
else:
    print('No image file.')
```
- 저장된 이미지를 'imread'를 통해 불러와서 'imshow'로 화면에 띄움

> 실행 결과

![Screenshot from 2023-05-25 10-39-13](https://github.com/ajhwan/OpenCV_study/assets/129160008/6192bac2-7e24-43ac-9f48-ad9398ea738c)

### 이미지 스케일 바꾸기
```python
import cv2

img_file = "../img/girl.jpg" 
save_file = "../img/girl_gray.jpg"
img = cv2.imread(img_file, cv2.IMREAD_GRAYSCALE)  #그레이 스케일로 읽기

if img is not None:
    cv2.imshow('IMG', img)
    cv2.imwrite(save_file, img)
    cv2.waitKey()
    cv2.destroyAllWindows()
else:
    print('No image file.')
    
````
- 앞선 코드에서 저장할 공간을 만들고, 'cv2.IMREAD_GRAYSCALE'을 통해 그레이 스케일로 읽어옴
- 이후 'imwrite'로 이미지를 읽음

> 실행 결과

![Screenshot from 2023-05-25 10-41-23](https://github.com/ajhwan/OpenCV_study/assets/129160008/39ab0d2f-4dca-416f-a4af-ca3d21b633c8)

### 동영상 파일 읽기
```python
import cv2

video_file = "../img/big_buck.avi" # 동영상 파일 경로

cap = cv2.VideoCapture(video_file) # 동영상 캡쳐 객체 생성 
if cap.isOpened():                 # 캡쳐 객체 초기화 확인
    while True:
        ret, img = cap.read()      # 다음 프레임 읽기  
        if ret:                     # 프레임 읽기 정상
            cv2.imshow(video_file, img) # 화면에 표시 
            cv2.waitKey(25)            # 25ms 지연(40fps로 가정)  
        else:                       # 다음 프레임 읽을 수 없으면
            break                   # 재생 완료
else:
    print("can't open video.")      # 캡쳐 객체 초기화 실패
cap.release()                       # 캡쳐 자원 반납
cv2.destroyAllWindows()
```
- '.avi'파일로 된 동영상 파일을 읽어와서 'cv2.VideoCapture'로 동영상 캡쳐 객체를 생성하여 동영상을 첫 프레임을 읽음
- 'cap.read()'를 통해 동영상을 다음 프레임을 읽고 정상적으로 읽혀졌다면 'while'문의 'imshow'를 통해 화면에 연속적으로 화면에 표시
- 더이상 읽을 프레임이 없다면(다음 프레임이 없다면) 'break'를 통해 탈출(재생 완료)
- 'cap.release()'로 객체 자원을 반납

> 실행 결과

![Screenshot from 2023-05-25 10-50-43](https://github.com/ajhwan/OpenCV_study/assets/129160008/59d27cfe-20fd-40b1-b3f1-d2d2f1b6b347)
![Screenshot from 2023-05-25 10-50-28](https://github.com/ajhwan/OpenCV_study/assets/129160008/322c6d54-e6aa-4153-8bef-08c62b0989da)

